/**
 * osf-panel - Smart panels that show and hide bootstrap columns
 * @author Caner Uguz
 * @version v0.0.1
 * @link https://github.com/caneruguz/osf-panel
 * @license Apache 2.0
 */
!function(s){s.fn.osfPanel=function(t){var a,o=s.extend({complete:null,sizes:{xs:0,sm:768,md:992,lg:1200},buttonElement:".switch",onClass:"btn-primary",offClass:"btn-default",onSize:"sm"},t),n=this,e=["xs","sm","md","lg"],l=o.sizes;return n.updateMode=function(){var t=s(window).width();t>=l.xs&&t<l.sm&&(a="xs"),t>=l.sm&&t<l.md&&(a="sm"),t>=l.md&&t<l.lg&&(a="md"),t>=l.lg&&(a="lg")},n.adjustVisible=function(){var t=s("[data-osf-panel]:visible").length,o=[],e=0,l=0,i=!1;if(n.each(function(t,n){var c=s(n).attr("data-osf-panel-col");o[t]=c,c&&"none"!==s(n).css("display")&&(i=!0,e+=parseInt(c),l++);for(var d=s(n).attr("class").split(" "),f=0;f<d.length;f++)d[f].indexOf("col-"+a+"-"),d.splice(f,1);s(n).attr("class",d.join(" "))}),i){var c=12-e,d=t-l,f=Math.floor(c/d),r=!1;n.each(function(t,n){if(o[t])s(n).addClass("col-"+a+"-"+o[t]);else{var e=c-f*d;e>0&&!r?(s(n).addClass("col-"+a+"-"+(f+e)),r=!0):s(n).addClass("col-"+a+"-"+f)}})}else{var u=12/t,h="col-"+a+"-"+u;n.each(function(t,a){s(a).addClass(h)})}console.log(i)},n.initialize=function(){n.each(function(t,a){s(a).is(":visible")&&s(a).attr("data-osf-toggle","on"),s(a).attr("data-css-cache",s(a).attr("class"));var o=s(a).attr("class").split(" ");console.log(o);for(var n=0;n<o.length;n++)console.log(o[n]),o[n].match(/(col-xs-|col-sm-|col-md-|col-lg)/)&&(o[n]="");s(a).attr("class",o.join(" "))}),n.createButtons()},n.reset=function(){s("[data-osf-panel]").each(function(t,a){var o=s(a).attr("data-css-cache");s(a).show(),o&&o.length>0&&s(a).attr("class",o)})},n.createButtons=function(){n.updateMode(),s(o.buttonElement).html(""),console.log(a),e.indexOf(a)>=e.indexOf(o.onSize)?(s(o.buttonElement).append('<div class="btn-group btn-group-sm"></div>'),s(o.buttonElement+" > .btn-group").append('<div class="btn btn-default disabled">Toggle view: </div>'),n.each(function(t,a){var n=o.offClass,e=s(a).attr("data-osf-panel"),l=s(a).attr("data-osf-toggle");"on"===l&&(n=o.onClass,s(a).show()),"off"===l&&(n=o.offClass,s(a).hide()),s(o.buttonElement+" > .btn-group").append('<div class="btn '+n+'">'+e+"</div>")}),n.adjustVisible()):n.reset()},s(document).on("click",o.buttonElement+" .btn",function(){var t=s(this).text();s(this).hasClass(o.onClass)?(s(this).removeClass(o.onClass).addClass(o.offClass),s('[data-osf-panel="'+t+'"]').attr("data-osf-toggle","off").hide()):s(this).hasClass(o.offClass)&&(s(this).removeClass(o.offClass).addClass(o.onClass),s('[data-osf-panel="'+t+'"]').attr("data-osf-toggle","on").show()),n.adjustVisible()}),s(window).resize(function(){n.createButtons()}),n.initialize(),s.isFunction(o.complete)&&o.complete.call(this),this}}(jQuery);