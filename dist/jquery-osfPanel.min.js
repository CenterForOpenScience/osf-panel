/**
 * osf-panel - Smart panels that show and hide bootstrap columns
 * @author Caner Uguz
 * @version v0.0.1
 * @link https://github.com/caneruguz/osf-panel
 * @license Apache 2.0
 */
!function(t){t.fn.osfPanel=function(s){var a,n=t.extend({complete:null,sizes:{xs:0,sm:768,md:992,lg:1200},buttonElement:".switch",onClass:"btn-primary",offClass:"btn-default",onSize:"sm"},s),o=this,e=["xs","sm","md","lg"],l=n.sizes;return o.updateMode=function(){var s=t(window).width();s>=l.xs&&s<l.sm&&(a="xs"),s>=l.sm&&s<l.md&&(a="sm"),s>=l.md&&s<l.lg&&(a="md"),s>=l.lg&&(a="lg")},o.adjustVisible=function(){var s=t("[data-osf-panel]:visible").length,n=12/s,e="col-"+a+"-"+n;o.each(function(s,n){for(var o=t(n).attr("class").split(" "),l=0;l<o.length;l++)o[l].indexOf("col-"+a+"-"),o.splice(l,1);t(n).attr("class",o.join(" ")),t(n).addClass(e)})},o.initialize=function(){o.each(function(s,a){t(a).is(":visible")&&t(a).attr("data-osf-toggle","on"),t(a).attr("data-css-cache",t(a).attr("class"));var n=t(a).attr("class").split(" ");console.log(n);for(var o=0;o<n.length;o++)console.log(n[o]),n[o].match(/(col-xs-|col-sm-|col-md-|col-lg)/)&&(n[o]="");t(a).attr("class",n.join(" "))}),o.createButtons()},o.reset=function(){t("[data-osf-panel]").each(function(s,a){var n=t(a).attr("data-css-cache");t(a).show(),n&&n.length>0&&t(a).attr("class",n)})},o.createButtons=function(){o.updateMode(),t(n.buttonElement).html(""),console.log(a),e.indexOf(a)>=e.indexOf(n.onSize)?(t(n.buttonElement).append('<div class="btn-group btn-group-sm"></div>'),t(n.buttonElement+" > .btn-group").append('<div class="btn btn-default disabled">Toggle view: </div>'),o.each(function(s,a){var o=n.offClass,e=t(a).attr("data-osf-panel"),l=t(a).attr("data-osf-toggle");"on"===l&&(o=n.onClass,t(a).show()),"off"===l&&(o=n.offClass,t(a).hide()),t(n.buttonElement+" > .btn-group").append('<div class="btn '+o+'">'+e+"</div>")}),o.adjustVisible()):o.reset()},t(document).on("click",n.buttonElement+" .btn",function(){var s=t(this).text();t(this).hasClass(n.onClass)?(t(this).removeClass(n.onClass).addClass(n.offClass),t('[data-osf-panel="'+s+'"]').attr("data-osf-toggle","off").hide()):t(this).hasClass(n.offClass)&&(t(this).removeClass(n.offClass).addClass(n.onClass),t('[data-osf-panel="'+s+'"]').attr("data-osf-toggle","on").show()),o.adjustVisible()}),t(window).resize(function(){o.createButtons()}),o.initialize(),t.isFunction(n.complete)&&n.complete.call(this),this}}(jQuery);